<?xml version="1.0" encoding="UTF-8"?>
<persistence xmlns="https://jakarta.ee/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             version="3.1"
             xsi:schemaLocation="https://jakarta.ee/xml/ns/persistence
                                 https://jakarta.ee/xml/ns/persistence/persistence_3_1.xsd">

    <persistence-unit name="agilitPU" transaction-type="RESOURCE_LOCAL">

        <!-- TODAS AS ENTIDADES DO SISTEMA AGILIT LOAN   -->
        
        <!-- Entidades Base -->
        <class>com.agilit.model.Credor</class>
        <class>com.agilit.model.Devedor</class>
        <class>com.agilit.model.Emprestimo</class>
        
        <!-- Entidades de Oferta e Proposta -->
        <class>com.agilit.model.OfertaEmprestimo</class>
        <class>com.agilit.model.PropostaEmprestimo</class>
        
        <!-- Entidades de Interesse e Parcela -->
        <class>com.agilit.model.InteresseProposta</class>
        <class>com.agilit.model.Parcela</class>
        
        <!-- Entidade de Notificação -->
        <class>com.agilit.model.Notificacao</class>

        <properties>

            <!-- CONFIGURAÇÕES DO BANCO DE DADOS             -->
            
            <property name="jakarta.persistence.jdbc.driver"
                      value="org.postgresql.Driver"/>

            <property name="jakarta.persistence.jdbc.url"
                      value="jdbc:postgresql://SEU_HOST:5432/SEU_DATABASE?sslmode=require&amp;channelBinding=require"/>

            <property name="jakarta.persistence.jdbc.user"
                      value="SEU_USUARIO"/>

            <property name="jakarta.persistence.jdbc.password"
                      value="SUA_SENHA"/>

            <!-- ============================================ -->
            <!-- CONFIGURAÇÕES DO HIBERNATE                  -->
            <!-- ============================================ -->

            <!-- Dialeto PostgreSQL -->
            <property name="hibernate.dialect"
                      value="org.hibernate.dialect.PostgreSQLDialect"/>


            <!-- Geração/alteração das tabelas -->
            <property name="hibernate.hbm2ddl.auto"
                      value="update"/>

            <!-- Mostrar SQL no console (útil para debug) -->
            <property name="hibernate.show_sql"
                      value="true"/>

            <!-- Formatar SQL no console -->
            <property name="hibernate.format_sql"
                      value="true"/>

            <!-- Mostrar comentários SQL -->
            <property name="hibernate.use_sql_comments"
                      value="true"/>

            <!-- Pool de conexões (C3P0) - Opcional mas recomendado -->
            <property name="hibernate.c3p0.min_size"
                      value="5"/>
            <property name="hibernate.c3p0.max_size"
                      value="20"/>
            <property name="hibernate.c3p0.timeout"
                      value="300"/>
            <property name="hibernate.c3p0.max_statements"
                      value="50"/>
            <property name="hibernate.c3p0.idle_test_period"
                      value="3000"/>

        </properties>
    </persistence-unit>
</persistence>
